/*!
 * Bez v1.0.10-g5ae0136
 * http://github.com/rdallasgray/bez
 * 
 * A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions
 * 
 * With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
 * See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html
 * 
 * Copyright 2011 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt
*/jQuery.extend({bez:function(a){var b="bez_"+$.makeArray(arguments).join("_").replace(".","p");if(typeof jQuery.easing[b]!="function"){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){var b=a,c=0,d;while(++c<14){d=f(b,0)-a;if(Math.abs(d)<.001)break;b-=d/g(b)}return b};return function(a){return f(h(a),1)}};jQuery.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}});
/*!
 * Roto v1.0.38-gcbb4b71
 * http://github.com/rdallasgray/roto
 * 
 * A simple, flexible, touch-capable scrolling plugin for jQuery
 * 
 * Copyright 2011 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/roto/blob/master/LICENSE.txt
*/(function(a){a.fn.roto=function(b){var c={btnPrev:".prev",btnNext:".next",direction:"h",shift_duration:200,shift_bezier:[0,0,0,1],drift_duration:1800,drift_factor:500,drift_bezier:[0,0,.3,1],bounce_duration:400,bounce_bezier:[0,.5,.5,1],pull_divisor:1.7,timer_interval:50,disable_transitions:!1,startOffset:0,endOffset:0,snap:!0},b=a.extend(c,b||{}),d=1e3,e=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}}(),f=e?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},g=function(a){return e&&typeof a.originalEvent.touches!="undefined"?a.originalEvent.touches[0]:a},h=null,i=null,j=null;if(!b.disable_transitions){var k=document.body||document.documentElement,l={transform:"transform",MozTransform:"-moz-transform",WebkitTransform:"-webkit-transform"},m={transition:{prop:"transition",event:"transitionend"},MozTransition:{prop:"-moz-transition",event:"transitionend"},WebkitTransition:{prop:"-webkit-transition",event:"webkitTransitionEnd"}};for(var n in l)if(typeof k.style[n]!="undefined"){h=l[n];break}for(var n in m)if(typeof k.style[n]!="undefined"){i=m[n].prop,j=m[n].event;break}}return this.each(function(){var k={h:{measure:"Width",offsetName:"left",coOrd:"X"},v:{measure:"Height",offsetName:"top",coOrd:"Y"}},l=k[b.direction],m=a(this),n=m.find("ul").first(),o=n.find("li"),p=0,q=b.startOffset,r=0,s=0,t=-1,u=0,v=0,w=typeof m.attr("id")!==undefined?m.attr("id"):(new Date).getTime()+"",x=null,y=null,z=!1,A=!1,B=m.find(b.btnPrev),C=m.find(b.btnNext),D=null,E=function(){if(i!==null){var a={};y===null&&(y=[h," ",b.shift_duration/d,"s ease 0s"].join("")),a[i]=y,n.css(a)}},F=function(){if(i!==null){var a={};a[i]="none",n.css(a)}},G=function(c,e,f,g,h){var k=h;if(!A||i===null)k=function(){O(),h()},A=!0;if(i!==null){var l={};l[i+"-duration"]=f/d+"s",l[i+"-timing-function"]=["cubic-bezier(",b[g+"_bezier"].join(","),")"].join(""),c.css(l),c.data("animationCallback",k),c.unbind(j),c.one(j,function(){c.data("animationCallback",null),k()}),c.css(e)}else c.animate(e,f,a.bez(b[g+"_bezier"]),k)},H=function(a){if(i!==null){var b=J();F(),typeof a.data("animationCallback")=="function"&&(a.data("animationCallback")(),a.data("animationCallback",null)),n.css(I(b))}else a.stop()},I=function(a){var b={};if(h!==null){if(x===null){var c=e?"3d":"",d=c==="3d"?"(Xpx,Ypx,0px)":"(Xpx,Ypx)",f={X:"Y",Y:"X"};x=["translate",c,d.replace(f[l.coOrd],"0")].join("")}b[h]=x.replace(l.coOrd,a)}else b[l.offsetName]=a+"px";return b},J=function(){var a=n.position()[l.offsetName]-p;if(h===null)return a;var b=n.css(h),c=b.match(/\-?[0-9]+/g);if(c===null)return a;var d=l.coOrd==="X"?c[4]:c[5];return parseInt(d)},K=function(c,d){var e=q,f,g,h=d>0?o.get().reverse():o,i=o.get(0),j;return a.each(h,function(h,k){j=a(k),e=-1*Math.ceil(j.position()[l.offsetName]),i=k,d<0?(e-=b.startOffset,f=-1*e+j["outer"+l.measure](!0),g=-1*c):(e+=b.endOffset,f=j.prev().length>0?e+j.prev()["outer"+l.measure](!0):e,g=c);if(e*d>=c*d||f>g)return!1}),[i,e]},L=function(b,c){var d=c<0?"next":"prev",e=K(b,c)[0],f=a(e)[d](),g=f.length>0?f:a(e);return g},M=function(a,b,c){var b=b===0?t:b;return c?-1*Math.ceil(L(a,b).position()[l.offsetName]):K(a,b)[1]},N=function(){var a=J();return a===M(a,0,!1)},O=function(){m.trigger("rotoChange",[K(J(),1)[0]]),A=!1},P=function(){if(b.direction==="h")o.each(function(b,c){v+=Math.ceil(a(c)["outer"+l.measure](!0))}),n[l.measure.toLowerCase()](v+Math.ceil(v/100));else{var c=o.last();v=Math.round(a(c).position()[l.offsetName]+a(c)["outer"+l.measure](!0))}u=Math.ceil(m[l.measure.toLowerCase()]()),r=Math.ceil(v-u+p+b.endOffset)*-1,b.snap&&(r=M(r,-1,!1))},Q=function(){return D===null&&(D=typeof B=="object"&&typeof B.click=="function"&&typeof C=="object"&&typeof C.click=="function"),D},R=function(){if(!Q())return;v>u-J()?C.removeAttr("disabled"):C.attr("disabled","disabled"),J()<q?B.removeAttr("disabled"):B.attr("disabled","disabled")},S=function(a){var b=typeof a;switch(b){case"number":T(a);break;case"object":U(a);break;case"string":W(a)}},T=function(b){if(b<0||b>=o.length)return;var c=a(o.get(b));U(c)},U=function(a){V(-1*a.position()[l.offsetName]+b.startOffset)},V=function(a){G(n,I(a),b.shift_duration,"shift",function(){R(),z=!1})},W=function(a){if(a!=="prev"&&a!=="next")return;dir=a==="prev"?1:-1,U(L(J(),dir))},X=function(a){var c=0;if(z)return;z=!0,E(),t=a;var d=function(a){G(n,I(a),b.shift_duration,"shift",function(){R(),z=!1})};a<0?c=Math.max(M(J()-u+b.startOffset,a,!1),r):c=Math.min(M(J()+u-b.endOffset,a,!1),q),V(c)},Y=function(a){var c=Math.ceil(a+s),d;if(c<q&&c>r)d=c;else var e=c>q?c-q:c-r,d=c-e/b.pull_divisor;n.css(I(d))},Z=function(){var a=ba.getPointerSpeed(),c=a[0],d=a[1],e=J(),f=c*b.drift_factor*d,g=f+e;g>q?g=q:g<r?g=r:b.snap&&!N()&&(g=M(g,d,!0));if(g===e){O();return}G(n,I(g),b.drift_duration,"drift",function(){R()})},_=function(a){var c=a<0?r:q;G(n,I(c),b.bounce_duration,"bounce",function(){R()})},ba=function(){var a=0,c=0,d=0,e=null,f={startCoOrd:0,endCoOrd:0};return{start:function(){d=a=c,e=window.setInterval(function(){f.startCoOrd=a,f.endCoOrd=c,a=c},b.timer_interval)},stop:function(){clearInterval(e),f.endCoOrd=c},getPointerSpeed:function(){var a=f.endCoOrd-f.startCoOrd,c=Math.abs(a),e=c/b.timer_interval,g=a===0?f.endCoOrd-d:a,h=g<=0?g===0?0:-1:1;return h!==0&&(t=h),[e,h]},setCurrentCoOrd:function(a){c=a}}}(),bb=function(){P(),R()};i==="-webkit-transition"&&n.css("-webkit-backface-visibility","hidden"),m.css({overflow:"hidden",position:"relative"}),n.css({position:"relative",whiteSpace:"nowrap",padding:0,margin:0}),o.css({display:"block","float":"left",listStyle:"none"}),p=Math.ceil(J()),n.css(I(b.startOffset)),B.length===0&&b.btnPrev===c.btnPrev&&m.attr("id")&&(B=a("#"+m.attr("id")+"-prev"),C=a("#"+m.attr("id")+"-next")),a(window).resize(function(){u=n.parent()[l.measure.toLowerCase()](),bb()}),n.bind(f.start+".roto."+w,function(b){H(n),z=!1,s=J();var c=n.find("a"),d={};e||(b.preventDefault(),document.ondragstart!==undefined&&n.find("a, img").one("dragstart",function(a){a.preventDefault()}),c.length>0&&a(document).one(f.move+".roto."+w,function(b){c.one("click.roto."+w,function(a){a.preventDefault()}),a.each(c.data("events"),function(b,c){d[b]=[],a.each(c,function(a,c){d[b].push(c)})}),c.unbind(),c.bind("click.roto."+w,function(a){a.preventDefault()})})),b=g(b);var h=b["screen"+l.coOrd];ba.setCurrentCoOrd(h),a(document).bind(f.move+".roto."+w,function(a){a.preventDefault(),a=g(a),ba.setCurrentCoOrd(a["screen"+l.coOrd]),Y(a["screen"+l.coOrd]-h)}),a(document).one(f.end,function(){ba.stop(),E(),J()>q||J()<r?_(J()-q):Z(),a(document).unbind(f.move+".roto."+w),!e&&c.length>0&&window.setTimeout(function(){c.unbind("click.roto."+w),a.each(d,function(b,d){a.each(d,function(a,b){c.bind(b.type+"."+b.namespace,b.data,b.handler)})})},250)}),ba.start()}),Q()&&(B.click(function(){return X(1)}),C.click(function(){return X(-1)})),m.bind("rotoGoto",function(a,b){S(b)}),m.bind("rotoShift",function(a,b){X(b)}),m.bind("rotoContentChange",function(){bb()}),bb()})}})(jQuery);
