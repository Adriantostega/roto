/*!
 * Bez v1.0.8-g6a9f3f9
 * http://github.com/rdallasgray/bez
 * 
 * A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions
 * 
 * With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths
 * See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html
 * 
 * Copyright 2011 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt
*/jQuery.extend({bez:function(a){var b="bez_"+$.makeArray(arguments).join("_").replace(".","p");if(typeof jQuery.easing[b]!="function"){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){var b=a,c=0,d;while(++c<6){d=f(b,0)-a;if(Math.abs(d)<.001)break;b-=d/g(b)}return b};return function(a){return f(h(a),1)}};jQuery.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}});
/*!
 * Roto v1.0.14-gdce764c
 * http://github.com/rdallasgray/roto
 * 
 * A simple, flexible, touch-capable scrolling plugin for jQuery
 * 
 * Copyright 2011 Robert Dallas Gray. All rights reserved.
 * Provided under the FreeBSD license: https://github.com/rdallasgray/roto/blob/master/LICENSE.txt
*/(function(a){a.fn.roto=function(b){var c={btnPrev:".prev",btnNext:".next",direction:"h",shift_duration:200,shift_bezier:[0,0,0,1],drift_duration:1800,drift_factor:500,drift_bezier:[0,0,.3,1],bounce_duration:400,bounce_bezier:[0,.5,.5,1],pull_divisor:3,timer_interval:50,msToS:1e3,disable_transitions:!1,snap:!0};b=a.extend(c,b||{});var d=1e3,e=!1;try{document.createEvent("TouchEvent"),e=!0}catch(f){e=!1}var g=e?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},h=function(a){return e&&typeof a.originalEvent.touches!="undefined"?a.originalEvent.touches[0]:a},i=null,j=null,k=null;if(!b.disable_transitions){var l=document.body||document.documentElement,m={transform:"transform",MozTransform:"-moz-transform",WebkitTransform:"-webkit-transform"},n={transition:{prop:"transition",event:"transitionend"},MozTransition:{prop:"-moz-transition",event:"transitionend"},WebkitTransition:{prop:"-webkit-transition",event:"webkitTransitionEnd"}};for(var o in m)if(typeof l.style[o]!="undefined"){i=m[o];break}for(var o in n)if(typeof l.style[o]!="undefined"){j=n[o].prop,k=n[o].event;break}}return this.each(function(){var f={h:{measure:"Width",offsetName:"left",coOrd:"X"},v:{measure:"Height",offsetName:"top",coOrd:"Y"}},l=f[b.direction],m=a(this),n=m.find("ul").first(),o=n.find("li"),p=0,q=0,r=0,s=0,t=-1,u=0,v=0,w=typeof m.attr("id")!==undefined?m.attr("id"):(new Date).getTime()+"",x=null,y=null,z=!1,A=!1,B=m.find(b.btnPrev),C=m.find(b.btnNext);m.css({overflow:"hidden",position:"relative"}),n.css({position:"relative",whiteSpace:"nowrap",padding:0,margin:0}),o.css({display:"block","float":"left",listStyle:"none"});var D=0,E=function(){if(j!==null){var a={};y===null&&(y=[i," ",b.shift_duration/d,"s ease 0s"].join("")),a[j]=y,n.css(a)}},F=function(){if(j!==null){var a={};a[j]="none",n.css(a)}},G=function(c,e,f,g,h){var i=h;if(!A||j===null)i=function(){I(),h()},A=!0;if(j!==null){var l={};l[j+"-duration"]=f/d+"s",l[j+"-timing-function"]=["cubic-bezier(",b[g+"_bezier"].join(","),")"].join(""),c.css(l),c.data("animationCallback",i),c.unbind(k),c.one(k,function(){c.data("animationCallback",null),i()}),c.css(e)}else c.animate(e,f,a.bez(b[g+"_bezier"]),i)},H=function(a){if(j!==null){var b=L();F(),typeof a.data("animationCallback")=="function"&&(a.data("animationCallback")(),a.data("animationCallback",null)),n.css(K(b))}else a.stop()},I=function(){m.trigger("rotoChange",[M(L(),t)[0]]),A=!1};j==="-webkit-transition"&&n.css("-webkit-backface-visibility","hidden"),B.length===0&&b.btnPrev===c.btnPrev&&m.attr("id")&&(B=a("#"+m.attr("id")+"-prev"),C=a("#"+m.attr("id")+"-next"));var J=function(){u=Math.ceil(n.parent()[l.measure.toLowerCase()]()),r=Math.ceil(v-u+p)*-1,b.snap&&(r=N(r,-1))},K=function(a){var b={};if(i!==null){if(x===null){var c=e?"3d":"",d=c==="3d"?"(Xpx,Ypx,0px)":"(Xpx,Ypx)",f={X:"Y",Y:"X"};x=["translate",c,d.replace(f[l.coOrd],"0")].join("")}b[i]=x.replace(l.coOrd,a)}else b[l.offsetName]=a+"px";return b},L=function(){var a=n.position()[l.offsetName]-p;if(i===null)return a;var b=n.css(i),c=b.match(/\-?[0-9]+/g);if(c===null)return a;var d=l.coOrd==="X"?c[4]:c[5];return parseInt(d)},M=function(b,c){var d=q,c=c===0?t:c,e=c>0?o.get().reverse():o,f=o.get(0);return a.each(e,function(e,f){d=-1*Math.ceil(a(f).position()[l.offsetName]);if(d*c>=b*c)return!1}),[f,d]},N=function(a,b){return M(a,b)[1]},O=function(){v>u-L()?C.removeAttr("disabled"):C.attr("disabled","disabled"),L()<q?B.removeAttr("disabled"):B.attr("disabled","disabled")},P=function(a){var c=0;if(z)return;z=!0,E();var d=function(a){G(n,K(a),b.shift_duration,"shift",function(){O(),z=!1})};a<0?c=Math.max(N(L()-u,a),r):c=Math.min(N(L()+u,a),q),d(c)},Q=function(a){var c=Math.ceil(a+s);c<q+u/b.pull_divisor&&c>r-u/b.pull_divisor&&n.css(K(c))},R=function(){var a=T.getPointerSpeed(),c=a[0],d=a[1];if(c===0){O();if(!b.snap){(!A||j===null)&&s!==L()&&I();return}}var e=c*b.drift_factor*d,f=e+L();f>q?f=q:f<r?f=r:b.snap&&(f=N(f,d)),G(n,K(f),b.drift_duration,"drift",function(){O()})},S=function(a){var c=a<0?r:q;G(n,K(c),b.bounce_duration,"bounce",function(){O()})},T=function(){var a=0,c=0,d=0,e=null,f={startCoOrd:0,endCoOrd:0};return{start:function(){d=a=c,e=window.setInterval(function(){f.startCoOrd=a,f.endCoOrd=c,a=c},b.timer_interval)},stop:function(){clearInterval(e),f.endCoOrd=c},getPointerSpeed:function(){var a=f.endCoOrd-f.startCoOrd,c=Math.abs(a),e=c/b.timer_interval,g=a===0?f.endCoOrd-d:a,h=g<=0?g===0?0:-1:1;return h!==0&&(t=h),[e,h]},setCurrentCoOrd:function(a){c=a}}}();a(window).resize(function(){u=n.parent()[l.measure.toLowerCase()](),J(),O()}),n.bind(g.start+".roto."+w,function(b){H(n),z=!1,s=L();var c=n.find("a"),d={};e||(b.preventDefault(),document.ondragstart!==undefined&&n.find("a, img").one("dragstart",function(a){a.preventDefault()}),c.length>0&&a(document).one(g.move+".roto."+w,function(b){c.one("click.roto."+w,function(a){a.preventDefault()}),a.each(c.data("events"),function(b,c){d[b]=[],a.each(c,function(a,c){d[b].push(c)})}),c.unbind(),c.bind("click.roto."+w,function(a){a.preventDefault()})})),b=h(b);var f=b["screen"+l.coOrd];T.setCurrentCoOrd(f),a(document).bind(g.move+".roto."+w,function(a){a.preventDefault(),a=h(a),T.setCurrentCoOrd(a["screen"+l.coOrd]),Q(a["screen"+l.coOrd]-f)}),a(document).one(g.end,function(){T.stop(),E(),L()>q||L()<r?S(L()-q):R(),a(document).unbind(g.move+".roto."+w),!e&&c.length>0&&window.setTimeout(function(){c.unbind("click.roto."+w),a.each(d,function(b,d){a.each(d,function(a,b){c.bind(b.type+"."+b.namespace,b.data,b.handler)})})},250)}),T.start()}),b.btnPrev&&B.click(function(){return P(1)}),b.btnNext&&C.click(function(){return P(-1)});if(b.direction==="h")o.each(function(b,c){v+=Math.ceil(a(c)["outer"+l.measure](!0))}),n[l.measure.toLowerCase()](v+Math.ceil(v/100));else{var U=o.last();v=Math.round(a(U).position()[l.offsetName]+a(U)["outer"+l.measure](!0))}if(v<=u){b.btnPrev&&B.hide(),b.btnNext&&C.hide();return}p=Math.ceil(L()),J(),O()})}})(jQuery);
